const {
  gerberGoodStartGentlePro,
  enfamilReguline,
  enfamilNutramigen,
  parentsChoiceSensitivity
} = require('./data');

const compareIngredients = (stringOne, stringTwo) => {
  const foodOne = stringOne.split(', ');
  const foodTwo = stringTwo.split(', ');
  const sharedIngredients = [];
  foodOne.sort();
  foodTwo.sort();

  for (let oneIndex = 0; oneIndex < foodOne.length; oneIndex++) {
    let oneIngredient = foodOne[oneIndex].toUpperCase();
    for (let twoIndex = 0; twoIndex < foodTwo.length; twoIndex++) {
      let twoIngredient = foodTwo[twoIndex].toUpperCase();
      if (oneIngredient === twoIngredient) {
        sharedIngredients.push(foodOne[oneIndex]);
        foodOne.splice(oneIndex, 1);
        oneIndex--;
        foodTwo.splice(twoIndex, 1);
        twoIndex--;
        break;
      }
    }
  }

  const comparisonData = {
    uniqueToFirst: foodOne,
    uniqueToSecond: foodTwo,
    sharedIngredients: sharedIngredients
  };

  return comparisonData;
};

const getPrimaryOrSecondary = (food, index) => {
  const primSecDivided = food.split('LESS THAN 2%');
  // console.log(primSecDivided[index]);
  return primSecDivided[index];
};

// const gerberGoodStartGentlePro =
//   "WHEY PROTEIN CONCENTRATE (FROM MILK. ENZYMATICALLY HYDROLYZED, REDUCED IN MINERALS), VEGETABLE OILS (PALM OLEIN, SOY, COCONUT, HIGH OLEIC SAFFLOWER OR HIGH OLEIC SUNFLOWER), LACTOSE, CORN MALTODEXTRIN, AND LESS THAN 2% OF: POTASSIUM HYDROXIDE, CALCIUM CHLORIDE, POTASSIUM PHOSPHATE, CALCIUM PHOSPHATE, CHOLINE BITARTRATE, 2'-0-FUCOSYLLACTOSE, CITRIC ACID, M. ALPINA OIL, SCHIZOCHYTRIUM OIL, SODIUM ASCORBATE, MAGNESIUM CHLORIDE, SODIUM CITRATE, SOY LECITHIN, TAURINE, NUCLEOTIDES (CYTIDINE 5'-MONOPHOSPHATE, DISODIUM URIDINE 5-MONOPHOSPHATE, ADENOSINE 5-MONOPHOSPHATE, DISODIUM GUANOSINE 5-MONOPHOSPHATE), INOSITOL, FERROUS SULFATE, ALPHA-TOCOPHERYL ACETATE, MIXED TOCOPHEROLS, ASCORBYL PALMITATE, ZINC SULFATE, NIACINAMIDE, CALCIUM PANTOTHENATE, B. LACTIS CULTURES, L-CARNITINE, COPPER SULFATE, RIBOFLAVIN, THIAMINE MONONITRATE, VITAMIN A ACETATE, PYRIDOXINE HYDROCHLORIDE, MANGANESE SULFATE, POTASSIUM IODIDE, FOLIC ACID, PHYLLOQUINONE, BIOTIN, SODIUM SELENATE, VITAMIN D3, VITAMIN B12";
// const enfamilReguline =
//   'PARTIALLY HYDROLYZED NONFAT MILK AND WHEY PROTEIN CONCENTRATE SOLIDS (SOY), VEGETABLE OIL (PALM OLEIN, COCONUT, SOY AND HIGH OLEIC SUNFLOWER OILS), CORN SYRUP SOLIDS, LACTOSE, AND LESS THAN 2%: POLYDEXTROSE*, GALACTOOLI- GOSACCHARIDESt, MORTIERELLA ALPINA OIL;, CRYPTHECODINIUM COHNI OILS, VITAMIN A PALMITATE, VITAMIN D3, VITAMIN E ACETATE, VITAMIN K1, THIAMIN HYDROCHLORIDE, RIBOFLAVIN, VITAMIN B6 HYDROCHLORIDE, VITAMIN B12, NIACINAMIDE, FOLIC ACID, CALCIUM PANTOTHENATE, BIOTIN, ASCORBIC ACID, CHOLINE CHLORIDE, INOSITOL. CALCIUM CARBONATE, CALCIUM PHOSPHATE, MAGNESIUM PHOSPHATE, FERROUS SULFATE, ZINC SULFATE, MANGANESE SULFATE, CUPRIC SULFATE, SODIUM SELENITE, SODIUM CITRATE, POTASSIUM CHLORIDE, POTASSIUM IODIDE, TAURINE, L-CARNITINE';
// const enfamilNutramigen =
//   "CORN SYRUP SOLIDS (47%), VEGETABLE OIL (PALM OLEIN, COCONUT, SOY, AND HIGH OLEIC SUNFLOWER OILS) (26%), CASEIN HYDROLYSATE (MILK) (17%)S, MODIFIED CORN STARCH (4%), AND LESS THAN 2%: MORTIERELLA ALPINA OIL', SCHIZOCHY-TRIUM SP. OIL', LACTOBACILLUS RHAMNOSUS*, CALCIUM CITRATE, CALCIUM PHOSPHATE, POTASSIUM CHLORIDE, POTASSIUM CITRATE, SODIUM CITRATE, CALCIUM HYDROXIDE, MAGNESIUM OXIDE, FERROUS SULFATE, ZINC SULFATE, CUPRIC SULFATE, MANGANESE SULFATE, SODIUM IODIDE, SODIUM SELENITE, CHOLINE CHLORIDE, ASCORBIC ACID, NIACINAMIDE, CALCIUM PANTOTHENATE, VITAMIN D3, THIAMIN HYDROCHLO-RIDE, RIBOFLAVIN, VITAMIN B6 HYDROCHLORIDE, FOLIC ACID, VITAMIN K1, BIOTIN, VITAMIN B12, INOSITOL VITAMIN A PALMITATE, VITAMIN E ACETATE, L-CYSTINE, L- TYROSINE, L-TRYPTOPHAN, TAURINE, L-CARNITINE";
// const parentsChoiceSensitivity =
//   "CORN SYRUP, MILK PROTEIN ISOLATE, PALM OLEIN, SUCROSE, SOY OIL, COCONUT OIL, HIGH OLEIC (SAFFLOWER OR SUNFLOWER) OIL, LESS THAN 2%: MORTIERELLA ALPINA OIL*, CRYPTHECODINIUM CONI OIL**: 2'-FUCOSYLLACTOSE, FRUCTO-OLIGOSACCHARIDE, LUTEIN, CALCIUM PHOSPHATE, POTASSIUM CITRATE, POTASSIUM CHLORIDE, SODIUM CITRATE, MAGNESIUM PHOSPHATE, ASCORBIC ACID, CALCIUM CARBONATE, FERROUS SULFATE, MAGNESIUM CHLORIDE, ASCORBYL PALMITATE, CHOLINE BITARTRATE, TAURINE, INOSITOL, VITAMIN E (dH-ALPHA TOCOPHERYL. ACETATE), ZINC SULFATE, MIXED TOCOPHEROL CONCENTRATE, L-CARNITINE, NIACIN (NiACINAMIDE), CALCIUM PANTOTHENATE, VITAMIN A PALMITATE, CUPRIC SULFATE, THIAMINE HYDROCHLORIDE, RIBOFLAVIN, PYRIDOXINE HYDROCHLORIDE, BETACAROTENE, FOLIC ACID, MANGANESE SULFATE, POTASSIUM IODIDE, VITAMIN K (PHYTONADIONE), BIOTIN, SODIUM SELENITE, VITAMiN D (CHOLECALCIFEROL), CYANOCOBALAMIN. POTASSIUM HYDROXIDE. POTASSIUM BICARBONATE, SODIUM CHLORIDE, SODIUM PHOSPHATE, MONOGLYCERIDES, SOY LECITHIN, NUCLEOTIDES (ADENOSINE-5-MONOPHOSPHATE, CYTIDINE-5-MONOPHOSPHATE, DISODIUM GUANOSINE-5-MONOPHOSPHATE, DISODIUM URIDINE-5-MONOPHOSPHATE";

const allCompared = compareIngredients(
  gerberGoodStartGentlePro,
  enfamilNutramigen
);

const primaryCompared = compareIngredients(
  getPrimaryOrSecondary(gerberGoodStartGentlePro, 0),
  getPrimaryOrSecondary(enfamilNutramigen, 0)
);

const secondaryCompared = compareIngredients(
  getPrimaryOrSecondary(gerberGoodStartGentlePro, 1),
  getPrimaryOrSecondary(enfamilNutramigen, 1)
);

console.log(
  'ALL INGREDIENTS:',
  allCompared,
  '\n\n',
  'PRIMARY INGREDIENTS:',
  primaryCompared,
  '\n\n',
  'SECONDARY INGREDIENTS:',
  secondaryCompared
);
// console.log(allCompared);

// console.log('PRIMARY INGREDIENTS:');
// console.log(primaryCompared);

// console.log('SECONDARY INGREDIENTS:');
// console.log(secondaryCompared);
